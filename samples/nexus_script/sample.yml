---
- name: Manage Nexus scripts on localhost
  hosts: localhost
  become: false
  gather_facts: false

  vars:
    nexus_script_name: "hello_world"

  tasks:
    - name: Upload Nexus script
      haxorof.sonatype_nexus.nexus_script:
        method: POST
        name: "{{ nexus_script_name }}"
        content: "println 'Hello, World!'"

    - name: Delete Nexus script
      haxorof.sonatype_nexus.nexus_script:
        method: DELETE
        name: "{{ nexus_script_name }}"
